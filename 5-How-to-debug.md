# مقدمه
از نیاز های اصلی هر پروژه برنامه نویسی داشتن راهی برای دیباگ کردن آن است. ولی دیباگ کردن پروژه ی این مسابقه با دیباگر های معمول دور از دسترس به نظر می رسد. پس چگونه کد خود را دیباگ کنیم؟
در این مستند قصد داریم چند روش برای دیباگ و تست کردن کد AIChallenge معرفی کنیم.
 
# مشکلات رایج

### ایراد فنی
یکی از مشکلات رایج در پیاده سازی کد بازی، برخورد کردن به ارور های کلاینت است. اگر در هنگام اجرای سرور به اروری که در عکس زیر آمده است برخورد کردید، یا در گرافیک بازی مشاهده کردید که تعدادی از نیرو های شما (بر خلاف منطق شما) چند حرکت بی حرکت ایستاده اند؛ یعنی سرور نتوانسته پاسخ کلاینت را دریافت کند. دلیل این مشکل به احتمال زیاد یکی از موارد زیر است :

![err1](https://user-images.githubusercontent.com/62210297/114906627-78aa2480-9e2f-11eb-9062-95a2b994cff0.jpg)

1. کد کلاینت شما به Exception برخورده است؛ یعنی به اروری رسیده است که جلوی اجرا شدن ادامه کد را گرفته است. 
2. محاسبات کد شما بیشتر از زمان مجاز بازی طول کشیده است. سرور به اندازه زمان مجاز گفته شده، برای پاسخ کلاینت منتظر می ماند و اگر پاسخی دریافت نکرده باشد، دستور ثابت ماندن را برای کلاینت در نظر می گیرد و به سراغ نوبت بعدی می رود

### ایراد منطقی
 گاهی ممکن است نیروهای شما رفتاری برخلاف الگوریتم مورد نظر شما نشان دهند. این مشکلات معمولا به دلیل ایرادات کوچکی در کد شما رخ می دهند و یافتن و برطرف کردن آن ها از ایرادات فنی مشکل تر است و به زمان بیشتری نیاز دارند.
 
 # یافتن مشکل
 ### اجرای سرور به صورت دستی
 بعد از مواجهه با مشکل باید علت دقیق آن را پیدا کنید. برای این کار باید سرور را به صورت دستی اجرا کنید؛ یعنی کلاینت ها را به صورت دستی برای آن ایجاد کنید و به آن معرفی کنید. برای این کار باید از دستور زیر استفاده کنید :
 `java -jar server.jar --run-manually`
 پس از اجرای این دستور، هر گاه که سرور به کلاینت جدید نیاز داشته باشد پیامی می دهد که یک نسخه جدید از کلاینت را برای آن اجرا کنید. 
 
![image](https://user-images.githubusercontent.com/62210297/114910890-a85b2b80-9e33-11eb-8ecd-eed2177fcb7a.png)

### اجرای کلاینت ها برای سرور
در این مرحله به اجرای تعداد زیادی نسخه از کلاینت نیاز دارید. اگر از ابزار های jetbrains مانند IntelliJ, PyCharm یا CLyon استفاده می کنید؛ این کار به سادگی امکان پذیر است.
1. در گام اول باید یک دور تابع Main را به صورت دستی اجرا کنید تا آن را به IDE بشناسانید. 
![image](https://user-images.githubusercontent.com/62210297/114913549-9333cc00-9e36-11eb-96dc-2ab11eae803a.png)

2. از طریق Edit Configurations یک Compound Configuration بسازید.

![image](https://user-images.githubusercontent.com/62210297/114913862-ec9bfb00-9e36-11eb-989d-0908b34db0f2.png)
![image](https://user-images.githubusercontent.com/62210297/114913957-05a4ac00-9e37-11eb-9d52-3fa31a728529.png)

3. حال باید تابع Main را به عنوان تابع اصلی برنامه که برای اجرا شدن کلاینت فعال میشود، معرفی کنید. 

![image](https://user-images.githubusercontent.com/62210297/114914292-5ddbae00-9e37-11eb-873e-8e583faca2c2.png)
![image](https://user-images.githubusercontent.com/62210297/114914587-b90da080-9e37-11eb-815f-8433342c1423.png)

4. حال کافیست هر گاه سرور به کلاینت جدیدی نیاز داشت، دکمه ی ران را بزنید تا نسخه جدیدی از کلاینت اجرا شود. همانطور که در تصویر زیر مشاهده می کنید، با این کار می توانیم محل ارور خوردن کد را پیدا کنیم. همچنین اگر پارامتری را در کد خود چاپ کرده باشید، در این پنجره های  main می توانید خروجی آن را مشاهده کنید.

![image](https://user-images.githubusercontent.com/62210297/114915278-99c34300-9e38-11eb-9936-048c4052af5d.png)

5. فراموش نکنید پس از اتمام دیباگ کد، دستورات چاپ را از کدتان حذف کنید. این دستورات زمان نسبتا زیادی از سرور می گیرند و ممکن است باعث رد کردن محدودیت زمانی توسط کد شما بشوند.

## تست منطقی کد
پس از آن که کد شما از ایرادات فنی خالی شد و به خوبی اجرا شد، نوبت به تست کردن استراتژی های مختلف می رسد. از بهترین راه های محک زدن استراتژی ها، شرکت در بازی های دوستانه و بررسی عملکرد کدتان در آن هاست. دقت کنید که این بازی ها تاثیر چندانی در انتخاب شدن شما برای مرحله اول مسابقات ندارند ولی فرصت خوبی برای پیدا کردن ایرادات استراتژی تان به شمار می روند. 
در کنار بازی های دوستانه ممکن است بخواهید کد خود را با پارامتر های مختلف برای بازی آزمایش کنید یا بخواهید بازی هایی با تعداد دور های زیاد یا کم اجرا کنید. برای این کار کافیست فایل map.config که کنار فایل سرور شما قرار دارد را ویرایش کنید. اگر این فایل را با یک ادیتور متن مانند notepad باز کنید و پارامتر های آن را ویرایش کنید، از آن جا به بعد بازی هایی که روی سیستم خودتان اجرا کنید با این پارامتر ها اجرا می شوند.

![image](https://user-images.githubusercontent.com/62210297/115009409-8314fe80-9ec1-11eb-944a-2054dde233d3.png)
